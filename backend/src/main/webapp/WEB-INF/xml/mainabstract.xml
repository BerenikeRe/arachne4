<?xml version="1.0" encoding="UTF-8"?>
<!--
  CeramEgypt Objects 2.0
  This represents a piece of ceramic
  status: to be done
-->
<category xmlns="http://arachne.uni-koeln.de/schemas/category" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="mainabstract" xsi:schemaLocation="http://arachne.uni-koeln.de/schemas/category category.xsd">
  <explicitContextualizers>fabricdescription</explicitContextualizers>
  <subtables>
    <!-- subtable connectFieldParent="bibid" connectFieldSubTable="001">quantities</subtable -->
    <subtable connectFieldParent="FS_FabricID" connectFieldSubTable="FS_FabricID">fabricdescription</subtable>
  </subtables>
  <display>
    <title>
      <section separator=" / ">
        <section separator=" - ">
          <field datasource="befund.Grabungsort"/>
          <field datasource="befund.Befund" prefix="SE: "/>
        </section>
        <section separator=" - ">
          <field datasource="morphology.Level1"/>
          <field datasource="morphology.Level2"/>
        </section>
        <section separator=" - " labelKey="Fabric">
          <field datasource="fabric.Origin"/>
          <field datasource="fabric.CommonName"/>
          <field datasource="fabric.Name"/>
        </section>
        <section>
        	<field datasource="quantities.TotalSherds" postfix=" sherds"/>
        </section>
      </section>

    </title>
    <subtitle>
      <section labelKey="Unique Identifier">
        <field datasource="Dataset.internalId"/>
      </section>
    </subtitle>
    <datasections>


      <!-- it will have this -->
      <section labelKey="Keramikfragment">
        <include type="isolatedsherd"></include>
      </section>

      <!-- OR this -->
      <section labelKey="Keramikkonvolut">
        <include type="quantities"></include>
      </section>

      <section labelKey="Morphologie">
        <include type="morphology"></include>
      </section>

      <section labelKey="Fabrikat">
        <include type="fabric"></include>
        <!-- TODO einschlüsse -->
        <!-- TODO munsel & andere Eigenschaften die fehlen -->
      </section>

      <section labelKey="Befund">
        <include type="befund"></include>
      </section>

      <include type="datierung"/>

    </datasections>

    <contextImages>
      <contextImage show="always">isolatedsherd</contextImage>
      <!-- TODO better place for those guys:
      <contextImage show="always">fabricdescription</contextImage>
      contextImage show="always">morphology</contextImage>
      -->
    </contextImages>

  </display>



  <facets>

    <include type="facet_kategorie"/>
    <include type="facet_datierung" />
    <!-- Context-Facets -->
    <facet name="grabungsort" labelKey="Grabungsort">
      <context type="befund" separator=", ">
        <field datasource=".Grabungsort"/>
      </context>
    </facet>
    <facet name="befund" labelKey="Befund">
      <context type="befund">
        <field datasource=".Befund"/>
      </context>
    </facet>
    <!-- Morphology-Facets -->
    <facet name="morphology_functionalgroup" labelKey="Functional Group">
      <context type="morphology">
        <field datasource=".Level1"/>
      </context>
    </facet>
    <facet name="morphology_2ndLevel" labelKey="2nd Level">
      <context type="morphology">
        <field datasource=".Level2"/>
      </context>
    </facet>
    <facet name="morphology_3rdLevel" labelKey="3rd Level">
      <context type="morphology">
        <field datasource=".Level3"/>
      </context>
    </facet>
    <facet name="morphology_4thLevel" labelKey="4th Level">
      <context type="morphology">
        <field datasource=".Level4"/>
      </context>
    </facet>
    <facet name="morphology_5thLevel" labelKey="5th Level">
      <context type="morphology">
        <field datasource=".Level5"/>
      </context>
    </facet>
    <facet name="grabungsinternetypnummer" labelKey="Grabunsinterne Typnummer">
      <field datasource="mainabstract.GrabunsinterneTypnummer"/>
    </facet>
    <!-- Fabric-Facets -->
    <facet name="fabricorigin" labelKey="Fabric Ursprung">
      <context type="fabric">
        <field datasource=".Origin"/>
      </context>
    </facet>
    <facet name="fabriccommonname" labelKey="Fabric Common Name">
      <context type="fabric">
        <field datasource=".CommonName"/>
      </context>
    </facet>
    <facet name="fabricname" labelKey="Fabric Name">
      <context type="fabric">
        <field datasource=".Name"/>
      </context>
    </facet>


  </facets>
</category>
