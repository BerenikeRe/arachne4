<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/security"
xmlns:beans="http://www.springframework.org/schema/beans"
xmlns:p="http://www.springframework.org/schema/p"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:context="http://www.springframework.org/schema/context"
xmlns:tx="http://www.springframework.org/schema/tx"
xsi:schemaLocation="http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.2.xsd
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd
    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd">

    <beans:bean id="authenticationEntryPoint" class="de.uni_koeln.arachne.util.security.ArachneAuthenticationEntryPoint" />

	<http create-session="stateless">
	   <!-- auto-config='true'  -->
	    <!-- use "IS_AUTHENTICATED_ANONYMOUSLY" as "ROLE_ANONYMOUSLY" is not working as it should -->
	   	<intercept-url pattern="/**" access="IS_AUTHENTICATED_ANONYMOUSLY, ROLE_USER, ROLE_ADMIN" />
		<http-basic entry-point-ref="authenticationEntryPoint"/>
	</http>

    <beans:bean id="arachneUserDetailsService" class="de.uni_koeln.arachne.service.ArachneUserDetailsService" />
        
	<authentication-manager>
		<authentication-provider user-service-ref="arachneUserDetailsService" />
	</authentication-manager>
</beans:beans>